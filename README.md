# HomeApi üè†

–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –≤–µ–±-API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–º–Ω—ã–º –¥–æ–º–æ–º. –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–º–Ω–∞—Ç—ã, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –æ–±–Ω–æ–≤–ª—è—Ç—å –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ üõ†Ô∏è

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç–∞–º–∏**:
  - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∫–æ–º–Ω–∞—Ç.
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–º–Ω–∞—Ç.
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–º–Ω–∞—Ç (–ø–ª–æ—â–∞–¥—å, –Ω–∞–ª–∏—á–∏–µ –≥–∞–∑–∞, –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ).

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏**:
  - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤.
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫–æ–º–Ω–∞—Ç–µ).
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏, —Å–µ—Ä–∏–π–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
  - –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤.

- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–º–µ**:
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ–º–µ (–∞–¥—Ä–µ—Å, –º–∞—Ç–µ—Ä–∏–∞–ª, —Ç–∏–ø –æ—Ç–æ–ø–ª–µ–Ω–∏—è –∏ —Ç.–¥.).

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ üìö

- **Backend**: ASP.NET Core 9
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQL Server + Entity Framework Core
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: FluentValidation
- **–ú–∞–ø–ø–∏–Ω–≥**: AutoMapper
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: OpenAPI (Scalar)
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤ ASP.NET Core

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ üöÄ

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:
```
   git clone https://github.com/Nikolai046/HomeApi.git
 ```
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**:

  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SQL Server —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω.
  - –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ appsettings.json:
```
"ConnectionStrings": {
  "DefaultConnection": "Server=–≤–∞—à_—Å–µ—Ä–≤–µ—Ä;Database=HomeApiDB;Trusted_Connection=True;TrustServerCertificate=True"
}
```
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**:
 ```
dotnet run
```  
   
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API**:
  - –û—Ç–∫—Ä–æ–π—Ç–µ Scalar UI: <https://localhost:7098/scalar/v1> (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ launchSettings.json).

---

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ üåê

1. **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–Ω–∞—Ç—É**:
```
   POST /rooms
Content-Type: application/json

{
  "name": "–ö—É—Ö–Ω—è",
  "area": 15,
  "gasConnected": true,
  "voltage": 220
}
 ```

2. **–î–æ–±–∞–≤–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ**:
```
POST /devices
Content-Type: application/json

{
  "name": "–ß–∞–π–Ω–∏–∫",
  "manufacturer": "Xiaomi",
  "model": "Kettle Pro",
  "serialNumber": "SN-123456",
  "currentVolts": 220,
  "gasUsage": false,
  "roomLocation": "–ö—É—Ö–Ω—è"
}
 ```

3. **–û–±–Ω–æ–≤–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ**:
```
PATCH /devices/{id}
Content-Type: application/json

{
  "newRoom": "–ì–æ—Å—Ç–∏–Ω–∞—è",
  "newName": "–£–º–Ω—ã–π —á–∞–π–Ω–∏–∫",
  "newSerial": "SN-654321"
}
 ```

---

## –í–∞–ª–∏–¥–∞—Ü–∏—è ‚ö†Ô∏è

- **–ö–æ–º–Ω–∞—Ç—ã**:
  - –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞: **–ö—É—Ö–Ω—è**, **–í–∞–Ω–Ω–∞—è**, **–ì–æ—Å—Ç–∏–Ω–∞—è** –∏ —Ç.–¥.
  - –ü–ª–æ—â–∞–¥—å –∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.

- **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**:
  - –ù–∞–∑–≤–∞–Ω–∏–µ, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å, –º–æ–¥–µ–ª—å –∏ —Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏.
  - –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 120-220 –í.
  - –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–º–Ω–∞—Ç–∞–º.
